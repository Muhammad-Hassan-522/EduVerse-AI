<div class="transition-all min-h-screen bg-gray-50">
  <!-- Header -->
  <app-header
    [profile]="{ name: 'Student Profile', initials: 'SP' }"
    pageTitle="AI Assistant"
  ></app-header>

  <!-- Main Section -->
  <main class="p-6 flex flex-col lg:flex-row gap-6">
    <!-- Chat Section -->
    <section
      class="flex-1 bg-white p-4 rounded-lg shadow-sm flex flex-col justify-between"
    >
      <div class="space-y-4 overflow-y-auto pr-4 h-[70vh] mr-2">
        <ng-container *ngFor="let msg of messages">
          <div
            *ngIf="msg.sender === 'AI'; else userMessage"
            class="flex items-start gap-3"
          >
            <div
              class="w-8 h-8 bg-blue-500 text-white flex items-center justify-center rounded-full text-sm font-semibold"
            >
              AI
            </div>
            <div
              class="bg-blue-50 text-gray-700 p-3 rounded-lg text-sm max-w-lg"
              [innerHTML]="msg.content"
            ></div>
          </div>

          <ng-template #userMessage>
            <div class="flex justify-end">
              <div
                class="bg-slate-900 text-white p-3 rounded-lg text-sm max-w-lg"
              >
                {{ msg.content }}
              </div>
            </div>
          </ng-template>
        </ng-container>
      </div>

      <!-- Input Field -->
      <div
        class="mt-4 flex items-center gap-3 border border-gray-300 rounded-lg px-3 py-2 bg-white"
      >
        <input
          type="text"
          placeholder="Ask the AI a question..."
          [(ngModel)]="userInput"
          (keyup.enter)="sendMessage()"
          class="flex-1 text-sm outline-none text-gray-700"
        />
        <button
          class="bg-slate-900 text-white p-2 rounded-md hover:bg-slate-800 transition"
          (click)="sendMessage()"
        >
          <i class="fa-solid fa-paper-plane"></i>
        </button>
      </div>
    </section>

    <!-- Right Sidebar -->
    <aside class="w-full lg:w-80 space-y-6">
       <!-- Quick Actions -->
  <div class="bg-white p-4 rounded-lg shadow-sm">
    <h3 class="font-semibold text-slate-900 mb-3">Quick Actions</h3>
    <div class="space-y-3">
      <div
        class="bg-purple-100 p-3 rounded-md text-sm flex items-center gap-3 cursor-pointer hover:bg-purple-200"
        (click)="handleQuickAction('summarize')"
      >
        <i class="fa-solid fa-align-left text-purple-700 text-lg"></i>
        <span class="text-purple-800 font-medium">Summarize Lecture</span>
      </div>

      <div
        class="bg-green-100 p-3 rounded-md text-sm flex items-center gap-3 cursor-pointer hover:bg-green-200"
        (click)="handleQuickAction('quiz')"
      >
        <i class="fa-solid fa-pen-to-square text-green-700 text-lg"></i>
        <span class="text-green-800 font-medium">Generate Practice Quiz</span>
      </div>
    </div>
  </div>

      <!-- Personalized Study Tips -->
      <div class="bg-white p-4 rounded-lg shadow-sm">
        <h3 class="font-semibold text-slate-900 mb-3">
          Personalized Study Tips
        </h3>
        <div class="space-y-3">
          <!-- Focus on Definitions -->
          <div
            class="p-3 rounded-md text-sm flex items-center gap-3"
            style="background-color: #fff6d8"
          >
            <i
              class="fa-solid fa-lightbulb"
              style="color: #f5b400; font-size: 1.25rem"
            ></i>
            <span style="color: #7a6200">
              <strong>Focus on Definitions:</strong>
              You missed 3 definition questions on your last quiz.
            </span>
          </div>

          <!-- Plan Your Essay -->
          <div
            class="p-3 rounded-md text-sm flex items-center gap-3"
            style="background-color: #e5f3ff"
          >
            <i
              class="fa-solid fa-calendar-days"
              style="color: #3a80d9; font-size: 1.25rem"
            ></i>
            <span style="color: #1b3f6a">
              <strong>Plan Your Essay:</strong>
              Your essay on “History of Art” is due in 5 days. Try creating an
              outline today.
            </span>
          </div>
        </div>
      </div>
    </aside>
  </main>
</div>
